<mxfile host="drawio-plugin" modified="2025-06-22T10:14:17.799Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36" etag="KRM1-jc-_hPxe9o-s27v" version="22.1.22" type="embed">
  <diagram id="vPlH9APjfDgkYkZU400k" name="第 1 页">
    <mxGraphModel dx="1002" dy="784" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="patch函数被调用" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="161" y="40" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="3" target="5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8" value="是DOM节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="7" vertex="1" connectable="0">
          <mxGeometry x="-0.0857" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="10" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="3" target="9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="11" value="是虚拟节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="10" vertex="1" connectable="0">
          <mxGeometry x="-0.0654" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3" value="oldVnode是虚拟节点还是DOM节点" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="91.5" y="130" width="259" height="80" as="geometry" />
        </mxCell>
        <mxCell id="4" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="2" target="3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="177" y="370" as="sourcePoint" />
            <mxPoint x="227" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5" value="将oldVnode包装为虚拟节点" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="477" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="18" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="9" target="17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="19" value="不是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="18" vertex="1" connectable="0">
          <mxGeometry x="-0.0425" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="24" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="9" target="23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="25" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="24" vertex="1" connectable="0">
          <mxGeometry x="-0.144" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9" value="oldVnode和newVnode是不是同一个节点？&lt;div style=&quot;font-size: 12px;&quot;&gt;（sel和key都相同）&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="83.25" y="260" width="275.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="15" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;curved=0;rounded=0;endSize=8;startSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="5" target="9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="457" y="350" as="sourcePoint" />
            <mxPoint x="507" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="17" value="暴力删除旧的、插入新的" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="477" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="27" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="23" target="26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="28" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="27" vertex="1" connectable="0">
          <mxGeometry x="-0.0286" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="30" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="23" target="29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="31" value="不是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="30" vertex="1" connectable="0">
          <mxGeometry x="-0.096" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="23" value="oldVnode和newVnode是不是内存中的同一个对象？" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="70" y="390" width="302" height="80" as="geometry" />
        </mxCell>
        <mxCell id="26" value="什么都不用做" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="477" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="33" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="29" target="32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="34" value="有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="33" vertex="1" connectable="0">
          <mxGeometry y="2" relative="1" as="geometry">
            <mxPoint x="-6" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="48" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="29" target="44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="49" value="没有&lt;div style=&quot;font-size: 12px;&quot;&gt;(意味着newVnode有children)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="48" vertex="1" connectable="0">
          <mxGeometry x="-0.0722" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="29" value="newVnode有没有text属性？" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="112" y="520" width="218" height="80" as="geometry" />
        </mxCell>
        <mxCell id="36" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="32" target="35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="37" value="相同" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="36" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="2" relative="1" as="geometry">
            <mxPoint x="-9" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="39" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="32" target="38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="43" value="不同" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="39" vertex="1" connectable="0">
          <mxGeometry x="-0.0621" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="32" value="newVnode的text和&lt;div style=&quot;font-size: 12px;&quot;&gt;oldVnode的text是否相同？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="390" y="520" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="35" value="什么都不用做" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="690" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="38" value="把elm中的innerText改变为newVnode的text&lt;div style=&quot;font-size: 12px;&quot;&gt;（即使oldVnode有children属性也没事，innerText一旦变为新的text，老children就没了）&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="375" y="650" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="54" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="44" target="51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="55" value="没有&lt;div style=&quot;font-size: 12px;&quot;&gt;(意味着oldVnode有text)&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="54" vertex="1" connectable="0">
          <mxGeometry x="-0.0123" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="44" value="oldVnode有没有子节点？" style="rhombus;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="132" y="720" width="178" height="80" as="geometry" />
        </mxCell>
        <mxCell id="51" value="①清空oldVnode中的text&lt;div style=&quot;font-size: 12px;&quot;&gt;②把newVnode的children添加到DOM中&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="472" y="730" width="163" height="60" as="geometry" />
        </mxCell>
        <mxCell id="58" value="最复杂的情况，新老vnode都有children，此时进行最优雅的diff" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="112" y="840" width="218" height="80" as="geometry" />
        </mxCell>
        <mxCell id="59" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.495;entryY=0.156;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="1" source="44" target="58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="60" value="有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="59" vertex="1" connectable="0">
          <mxGeometry x="-0.2241" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="61" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1494" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="62" value="旧子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="237.5" y="1454" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="64" value="新子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="601" y="1454" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="65" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1544" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="66" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1594" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="67" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1494" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="68" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1544" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="69" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1594" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="70" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1644" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="71" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;labelBackgroundColor=none;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1694" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="78" value="新前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="487" y="1644" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="79" value="旧前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="53.5" y="1644" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="80" value="旧后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="125" y="1594" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="81" value="新后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="487" y="1694" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="83" value="while(新前 &amp;lt;= 新后 &amp;amp;&amp;amp; 旧前 &amp;lt;= 旧后) { }" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="230" y="1180" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="84" value="① 如果是旧节点先循环完毕，说明新节点中有要插入的节点。" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="20" y="1414" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="85" value="② 如果是新节点先循环完毕，如果老节点中还有剩余节点，说明他们是要被删除的节点。" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="20" y="1764" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="86" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1843" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="87" value="旧子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="237.5" y="1803" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="88" value="新子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="601" y="1804" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="89" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1893" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="90" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1943" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="91" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1844" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="92" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1894" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="94" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="1993" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="96" value="新前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="425.5" y="1943" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="97" value="旧前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="125" y="1943" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="98" value="旧后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="51.5" y="1943" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="99" value="新后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="487" y="1894" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="100" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="1944" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="102" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="2114" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="103" value="旧子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="237.5" y="2074" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="104" value="新子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="601" y="2075" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="105" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="2164" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="106" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="2264" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="107" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="2114" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="108" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="2164" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="109" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="2214" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="110" value="新前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="425.5" y="2264" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="111" value="旧前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="125" y="2214" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="112" value="旧后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="125" y="2314" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="113" value="新后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="487" y="2214" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="114" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="548.5" y="2214" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="115" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="185" y="2314" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="117" value="&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;1. 初始状态（准备比较）&lt;/h3&gt;&lt;div style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-normal-text-line-height); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); color: var(--md-box-samantha-normal-text-color) !important;&quot; class=&quot;auto-hide-last-sibling-br paragraph-Oc488D paragraph-element br-paragraph-space&quot;&gt;旧子节点序列：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;[A, B, C, D, E]&lt;/code&gt;，指针&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧前&lt;/code&gt;&amp;nbsp;指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;A&lt;/code&gt;，&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧后&lt;/code&gt;&amp;nbsp;指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;E&lt;/code&gt;。&lt;br style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); content: &amp;quot;&amp;quot;; display: block; font-size: 14px; margin: 1em; overflow-anchor: auto;&quot; class=&quot;container-Vdm5p7 wrapper-_7axQ_ undefined&quot;&gt;新子节点序列：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;[A, B, D]&lt;/code&gt;，指针&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;新前&lt;/code&gt;&amp;nbsp;指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;A&lt;/code&gt;，&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;新后&lt;/code&gt;&amp;nbsp;指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;D&lt;/code&gt;。&lt;/div&gt;&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;2. 第一轮：匹配 “新前 - 旧前”&lt;/h3&gt;&lt;ul style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding-left: 20px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-li-margin) !important; margin-top: var(--md-box-samantha-li-margin) !important;&quot; class=&quot;auto-hide-last-sibling-br&quot;&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;比较&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前（A）&lt;/code&gt;&amp;nbsp;和&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前（A）&lt;/code&gt;：key 相同、节点类型相同，属于可复用节点。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;逻辑：复用&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;A&lt;/code&gt;，&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前++&lt;/code&gt;（指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;B&lt;/code&gt;）、&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前++&lt;/code&gt;（指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;B&lt;/code&gt;）。&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;3. 第二轮：匹配 “新前 - 旧前”&lt;/h3&gt;&lt;ul style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding-left: 20px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-li-margin) !important; margin-top: var(--md-box-samantha-li-margin) !important;&quot; class=&quot;auto-hide-last-sibling-br&quot;&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;比较&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前（B）&lt;/code&gt;&amp;nbsp;和&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前（B）&lt;/code&gt;：&lt;span style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-weight: 600; font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); overflow-anchor: auto; color: var(--md-box-samantha-deep-text-color) !important;&quot;&gt;key 相同、节点类型相同&lt;/span&gt;，复用&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;B&lt;/code&gt;。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;逻辑：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前++&lt;/code&gt;（指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;C&lt;/code&gt;）、&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前++&lt;/code&gt;（指向&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;D&lt;/code&gt;）。&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;4. 第三轮：尝试 “新前 - 旧后”“新后 - 旧前”“新后 - 旧后”，未匹配&lt;/h3&gt;&lt;ul style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding-left: 20px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-li-margin) !important; margin-top: var(--md-box-samantha-li-margin) !important;&quot; class=&quot;auto-hide-last-sibling-br&quot;&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;比较&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前（D）&lt;/code&gt;&amp;nbsp;与&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧后（E）&lt;/code&gt;：key 不同，不匹配。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;比较&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新后（D）&lt;/code&gt;&amp;nbsp;与&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前（C）&lt;/code&gt;：key 不同，不匹配。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;比较&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新后（D）&lt;/code&gt;&amp;nbsp;与&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧后（E）&lt;/code&gt;：key 不同，不匹配。&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;5. 第四轮：“新前” 匹配 “旧子节点中的 D”&lt;/h3&gt;&lt;div style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-normal-text-line-height); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); color: var(--md-box-samantha-normal-text-color) !important;&quot; class=&quot;auto-hide-last-sibling-br paragraph-Oc488D paragraph-element br-paragraph-space&quot;&gt;遍历旧子节点中间未被指针覆盖的区域（&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧前&lt;/code&gt;&amp;nbsp;到&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧后&lt;/code&gt;：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;C、D&lt;/code&gt;），发现&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;D&lt;/code&gt;&amp;nbsp;的 key 与&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;新前（D）&lt;/code&gt;&amp;nbsp;匹配：&lt;/div&gt;&lt;br style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); content: &amp;quot;&amp;quot;; display: block; font-size: 14px; margin: 1em; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;container-Vdm5p7 wrapper-_7axQ_ undefined&quot;&gt;&lt;ul style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding-left: 20px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-li-margin) !important; margin-top: var(--md-box-samantha-li-margin) !important;&quot; class=&quot;auto-hide-last-sibling-br&quot;&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;逻辑 1：复用&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;D&lt;/code&gt;，将&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;D&lt;/code&gt;&amp;nbsp;移动到当前&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前&lt;/code&gt;&amp;nbsp;对应的位置（因虚拟 DOM 是对比后打补丁，实际会调整真实 DOM 顺序）。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;逻辑 2：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前++&lt;/code&gt;（超出新子节点范围，停止 “新前” 方向比较）。&lt;/li&gt;&lt;/ul&gt;&lt;h3 style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-h3-line-height); margin-top: var(--md-box-samantha-h3-margin-top); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-h3-margin-bottom) !important; padding-bottom: 0px !important;&quot; class=&quot;header-OdWb_u auto-hide-last-sibling-br&quot;&gt;6. 收尾：删除旧节点中未匹配的&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; padding: 0px 0.2em; overflow-anchor: auto;&quot;&gt;C、E&lt;/code&gt;&lt;/h3&gt;&lt;div style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); line-height: var(--md-box-samantha-normal-text-line-height); font-size: 14px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255); color: var(--md-box-samantha-normal-text-color) !important;&quot; class=&quot;auto-hide-last-sibling-br paragraph-Oc488D paragraph-element br-paragraph-space&quot;&gt;当&amp;nbsp;&lt;span style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-weight: 600; font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); overflow-anchor: auto; color: var(--md-box-samantha-deep-text-color) !important;&quot;&gt;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;新前 &amp;gt; 新后&lt;/code&gt;&lt;/span&gt;&amp;nbsp;时，说明&lt;span style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-weight: 600; font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); overflow-anchor: auto; color: var(--md-box-samantha-deep-text-color) !important;&quot;&gt;新子节点已处理完毕&lt;/span&gt;，旧子节点中&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧前&lt;/code&gt;&amp;nbsp;到&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;旧后&lt;/code&gt;&amp;nbsp;之间的节点（&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto; line-height: var(--md-box-samantha-normal-text-line-height); color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;C、E&lt;/code&gt;）属于&lt;span style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-weight: 600; font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); overflow-anchor: auto; color: var(--md-box-samantha-deep-text-color) !important;&quot;&gt;需要删除的冗余节点&lt;/span&gt;：&lt;/div&gt;&lt;br style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); content: &amp;quot;&amp;quot;; display: block; font-size: 14px; margin: 1em; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot; class=&quot;container-Vdm5p7 wrapper-_7axQ_ undefined&quot;&gt;&lt;ul style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding-left: 20px; overflow-anchor: auto; font-family: Inter, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;SF Pro SC&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, &amp;quot;SF Pro Icons&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: start; background-color: rgb(255, 255, 255); margin-bottom: var(--md-box-samantha-li-margin) !important; margin-top: var(--md-box-samantha-li-margin) !important;&quot; class=&quot;auto-hide-last-sibling-br&quot;&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;对&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;C&lt;/code&gt;：执行&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;removeChild&lt;/code&gt;（虚拟 DOM 标记删除，最终批量更新真实 DOM）。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;对&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;E&lt;/code&gt;：执行&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;removeChild&lt;/code&gt;。&lt;/li&gt;&lt;li style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-size: 14px; line-height: var(--md-box-samantha-normal-text-line-height); list-style-type: disc; margin-top: var(--md-box-samantha-li-margin); padding-left: 4px; overflow-anchor: auto; color: var(--md-box-samantha-normal-text-color) !important;&quot;&gt;指针移动：&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前++&lt;/code&gt;&amp;nbsp;直到&amp;nbsp;&lt;code style=&quot;-webkit-font-smoothing: antialiased; box-sizing: border-box; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: var(--color-inline-code-background); border-radius: 4px; color: var(--color-text-primary); font-size: 14px; font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; overflow-anchor: auto;&quot;&gt;旧前 &amp;gt; 旧后&lt;/code&gt;，结束比较。&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="31" y="2372" width="766" height="441" as="geometry" />
        </mxCell>
        <mxCell id="118" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="3056.5" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="119" value="旧子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="219.5" y="2870" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="120" value="新子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="583" y="2871" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="121" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="3106.5" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="122" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="2961" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="123" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="2910" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="124" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="2960" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="125" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="3156.5" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="126" value="新前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="469" y="3305" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="127" value="旧前" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="47" y="3511" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="128" value="旧后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="107" y="3511" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="129" value="新后" style="shape=singleArrow;whiteSpace=wrap;html=1;arrowWidth=0.4;arrowSize=0.4;fontSize=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="407.5" y="3305" width="61.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="130" value="h(&#39;li&#39;, { key: &#39;M&#39; }, &#39;M&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3010" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="131" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="2910" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="132" value="新前-旧前&lt;br&gt;新后-旧后&lt;br&gt;新后-旧前(此种情况命中了，要让旧前指向的节点，移动到旧后之后&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;br&gt;新前-旧后(此种情况命中了，要让旧后指向的节点，移动到旧前之前&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;br&gt;当以上四种情况都没有被命中的时候，以新前指向的节点为基准，在旧子节点的为被处理的节点中&lt;br&gt;循环查找有没有和新前所指向的节点相同的节点，如果有，那个旧节点中的这个节点需要被移动到旧前&lt;br&gt;对应的位置之前，如果没有，就说明这是要在旧子节点中被新插入到新前所对应的位置。" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="9" y="1231" width="828" height="163" as="geometry" />
        </mxCell>
        <mxCell id="135" value="h(&#39;li&#39;, { key: &#39;M&#39; }, &#39;M&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;glass=0;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="168.75" y="3010" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="137" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3356" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="138" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3407" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="139" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3459" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="140" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3564" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="142" value="旧子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="219.5" y="3265" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="143" value="新子节点" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="583" y="3265" width="85" height="30" as="geometry" />
        </mxCell>
        <mxCell id="144" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3511" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="145" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3459" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="146" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3407" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="147" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3356" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="148" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="530.5" y="3305" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="149" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3305" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="150" value="undefined" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="201.5" y="3311" width="131.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="153" value="h(&#39;li&#39;, { key: &#39;A&#39; }, &#39;A&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3763" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="154" value="undefined" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="201.5" y="3362" width="131.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="155" value="h(&#39;li&#39;, { key: &#39;B&#39; }, &#39;B&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3712" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="156" value="undefined" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="201.5" y="3413" width="131.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="157" value="h(&#39;li&#39;, { key: &#39;C&#39; }, &#39;C&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3664" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="158" value="undefined" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="201.5" y="3465" width="131.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="160" value="h(&#39;li&#39;, { key: &#39;D&#39; }, &#39;D&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3614" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="161" value="h(&#39;li&#39;, { key: &#39;E&#39; }, &#39;E&#39;)" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="167" y="3513" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="162" value="undefined" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="200.5" y="3519" width="131.5" height="28" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
